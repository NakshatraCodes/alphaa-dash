(this["webpackJsonptodo-list"]=this["webpackJsonptodo-list"]||[]).push([[0],{107:function(t,e,n){},148:function(t,e,n){},149:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n.n(a),i=n(10),o=n.n(i),r=(n(107),n(15)),s=n(180);function u(t){return Object(s.a)(t)}var l=function(t){return{signInDiv:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh",backgroundImage:"radial-gradient(#dbd9d9, #8f8f8f)","& a":{textDecoration:"none"},"& button":{color:"#fff",background:"#0076b2",fontSize:20,fontWeight:600,padding:10,textTransform:"none","& img":{width:60}},"& button:hover":{opacity:"0.8",backgroundColor:"#0076b2"}},body:{positive:"relative"},headerBar:{position:"fixed",backgroundColor:"#0076b2"},headerLeft:{display:"flex",position:"absolute",left:16,top:12,"& h4":{margin:"14px 8px"}},headerRight:{display:"flex",position:"absolute",right:0,left:"inherit","& button":{color:"#0076b2",fontWeight:600,borderRadius:"50%",width:40,height:40},"& button:hover":{background:"#fff",opacity:"0.8"},"& .add":{right:26},"& .dot":{right:20}},modalWidth:{"& .MuiDialog-paperWidthSm":{minWidth:400}},bodyDiv:{position:"relative",top:50},cancelCrossIcon:{position:"absolute",right:4,cursor:"pointer",color:"#fff",top:4,width:32,height:32,borderRadius:"50%",display:"flex",alignItems:"center",background:"#0076b2",border:"1px solid #0076b2",justifyContent:"center",zIndex:9,"& svg":{width:16,height:16},"&:hover":{backgroundColor:"#0076b2",opacity:"0.8"}},createTask:{right:10,width:40,height:40,"& svg":{width:24,height:24}},dragItem:{"& li":{listStyleType:"none",background:"#cbcbcb6b",maxWidth:215,height:"auto",padding:10,margin:10}},actionButton:{position:"absolute",bottom:20,right:0,"& button":{color:"#fff",background:"#0076b2",textTransform:"none",fontWeight:600,width:100,margin:5},"& button:hover":{opacity:"0.8",color:"#fff",background:"#0076b2"},"& .buttonCancel":{color:"#fff",background:"#999999"},"& .buttonCancel:hover":{color:"#fff",background:"#999999"}},dialogContent:{height:175,marginBottom:30,"& .MuiTextField-root":{width:"100%",margin:"15px 0px"}},todoList:{padding:"20px 0px"}}},d=n(28),h=n.n(d),b=n(44),j=n(111).create({baseURL:"/api/v1",transformRequest:[function(t,e){return e.authorization="Bearer "+sessionStorage.authToken,JSON.stringify(t)}],headers:{"Content-Type":"application/json"}});function f(t){return p.apply(this,arguments)}function p(){return(p=Object(b.a)(h.a.mark((function t(e){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.get(e).then((function(t){return t.data})).catch((function(t){return t}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function O(){return(O=Object(b.a)(h.a.mark((function t(e,n){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.post(e,n).then((function(t){return t.data})).catch((function(t){return t}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function g(){return(g=Object(b.a)(h.a.mark((function t(e){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.delete("".concat(e)).then((function(t){return t.data})).catch((function(t){return t}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function x(){return(x=Object(b.a)(h.a.mark((function t(e,n){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.put("".concat(e),n).then((function(t){return t.data})).catch((function(t){return t}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var A=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{x:0,y:0,w:3,h:3};return{x:n.x,y:n.y,w:n.w,h:n.h,i:e.toString(),_id:t._id,title:t.title,description:t.description}},m=n(4),v=0,y=function(t){var e=Object(a.useState)(!1),n=Object(r.a)(e,2),c=n[0],i=n[1],o=Object(a.useState)(null),s=Object(r.a)(o,2),d=s[0],h=s[1],b=JSON.parse(sessionStorage.getItem("userData")),j=Object(a.useState)([]),p=Object(r.a)(j,2),g=p[0],y=p[1],k=Object(a.useRef)([]),S=u(l)();Object(a.useEffect)((function(){f("/todos").then((function(t,e){var n=JSON.parse(localStorage.getItem(b._id))||[],a=t.data.map((function(t,e){return A(t,++v,n[e])}));y(a)})).catch((function(t){return console.log(t)}))}),[]);return Object(m.jsxs)("div",{className:S.body,children:[Object(m.jsx)(ct,{logoutSession:t.logoutSession,user:b,setOpenTask:i}),Object(m.jsx)("div",{className:S.bodyDiv,children:Object(m.jsx)("div",{className:S.todoList,children:Object(m.jsx)(D,{userId:b._id,taskList:g,setOpenTask:function(t){t&&f("/todo/".concat(t)).then((function(e){k.current=e.data,h(t),i(!0)})).catch((function(t){return console.log(t)}))}})})}),Object(m.jsx)(W,{addTask:function(t,e){t.preventDefault(),d?function(t,e){return x.apply(this,arguments)}("/todo/".concat(d),e).then((function(t){y((function(t){var n;return g.map((function(t,e){return t._id===d&&(n=e),!0})),e._id=d,h(null),k=[],g.splice(n,1,A(e,g[n].i,g[n])),g})),i(!1)})).catch((function(t){return console.log(t)})):function(t,e){return O.apply(this,arguments)}("/todo",e).then((function(t){t.data&&t.data.todo&&(y((function(e){return g.push(A(t.data.todo,++v)),g})),i(!1))})).catch((function(t){return console.log(t)}))},open:c,id:d,listData:k,close:function(){h(null),i(!1)}}),Object(m.jsx)(B,{open:t.open,close:t.close,user:b})]})},k=n(25),S=n(65),N=n.n(S),C=n(183),T=n(185),L=n(186),w=Object(S.WidthProvider)(N.a),I=function(t){var e=Object(a.useState)(t.taskList),n=Object(r.a)(e,2),i=n[0],o=n[1],s=Object(a.useState)(!1),u=Object(r.a)(s,2),l=u[0],d=u[1];Object(a.useEffect)((function(){o(t.taskList)}),[t.taskList]);var h=function(t){(function(t){return g.apply(this,arguments)})("/todo/".concat(t._id)).then((function(e){o((function(e){var n;return i.map((function(e,a){return e._id===t._id&&(n=a),!0})),i.splice(n,1),i})),d(!l)})).catch((function(t){return console.log(t)}))};return Object(m.jsx)(c.a.Fragment,{children:Object(m.jsx)(w,Object(k.a)(Object(k.a)({},t),{},{onLayoutChange:function(e){return function(e){localStorage.setItem(t.userId,JSON.stringify(e))}(e)},children:i.map((function(e){return Object(m.jsxs)("div",{"data-grid":e,children:[Object(m.jsx)(C.a,{className:"edit","aria-label":"Close",onClick:function(n){return function(e){t.setOpenTask(e._id)}(e)},children:Object(m.jsx)(T.a,{})}),Object(m.jsx)(C.a,{className:"delete","aria-label":"Close",onClick:function(t){return h(e)},children:Object(m.jsx)(L.a,{})}),Object(m.jsx)("h3",{children:e.title}),Object(m.jsx)("p",{children:e.description})]},e.i)}))}))})};I.defaultProps={isDraggable:!0,isResizable:!0,items:5,rowHeight:30,preventCollision:!1,cols:12};var D=I,F=n(201),z=n(203),K=n(188),R=n(190),U=n(199),Q=n(192),Z=n(193),P=n(189),W=function(t){var e=u(l)(),n=Object(a.useState)(""),c=Object(r.a)(n,2),i=c[0],o=c[1],s=Object(a.useState)(""),d=Object(r.a)(s,2),h=d[0],b=d[1],j=Object(a.useState)(!1),f=Object(r.a)(j,2),p=f[0],O=f[1],g=Object(a.useState)({title:!1,description:!1}),x=Object(r.a)(g,2),A=x[0],v=x[1];Object(a.useEffect)((function(){o(t.listData.current.title),b(t.listData.current.description)}),[t.id,t.listData]);var y=function(t){var e;null==(e=t.value)||/^\s*$/.test(e)?k(t,!0):k(t,!1)},k=function(t,e){v((function(n){return n[t.name]=e,n})),O(!p)};return Object(m.jsxs)(F.a,{className:e.modalWidth,open:t.open,disableEscapeKeyDown:!0,disableBackdropClick:!0,onClose:t.close,onExit:function(){b(""),o("")},children:[Object(m.jsx)(z.a,{className:e.dialogTitle,children:t.id?"Update Task":"Add Task"}),Object(m.jsxs)(K.a,{className:e.dialogContent,children:[Object(m.jsx)(C.a,{onClick:t.close,"aria-label":"Close",className:e.cancelCrossIcon,children:Object(m.jsx)(P.a,{})}),Object(m.jsxs)(R.a,{container:!0,children:[Object(m.jsx)(R.a,{item:!0,xs:12,sm:12,md:12,children:Object(m.jsx)(U.a,{name:"title",defaultValue:i,placeholder:"Add Task",type:"text",helperText:A.title?"Please enter task":"",error:A.title,onChange:function(t){o(t.target.value),y(t.target)},onBlur:function(t){o(t.target.value),y(t.target)}})}),Object(m.jsx)(R.a,{item:!0,xs:12,sm:12,md:12,children:Object(m.jsx)(U.a,{defaultValue:h,helperText:A.description?"Please enter description":"",name:"description",placeholder:"Description",error:A.description,onChange:function(t){b(t.target.value),y(t.target)},onBlur:function(t){b(t.target.value),y(t.target)}})})]})]}),Object(m.jsx)(Q.a,{children:Object(m.jsxs)(R.a,{className:e.actionButton,item:!0,xs:12,sm:12,md:12,children:[Object(m.jsx)(Z.a,{onClick:t.close,className:"buttonCancel",type:"button",children:"Cancel"}),Object(m.jsx)(Z.a,{className:"buttonDefault",onClick:function(e){return t.addTask(e,{title:i,description:h})},type:"submit",disabled:!t.id&&(A.title||A.description||!i||!h),children:"Add"})]})})]},t.id?t.id:"")},B=function(t){var e=t.open,n=t.close,a=t.user,c=u(l)();return Object(m.jsx)(F.a,{className:c.modalWidth,open:e,disableEscapeKeyDown:!0,disableBackdropClick:!0,onClose:n,children:Object(m.jsxs)(K.a,{className:c.dialogContent,children:[Object(m.jsx)(C.a,{onClick:n,"aria-label":"Close",className:c.cancelCrossIcon,children:Object(m.jsx)(P.a,{})}),Object(m.jsxs)("h4",{children:["Hi ",a.name]}),Object(m.jsx)("p",{children:"Welcome to your todo board."})]})})},E=n(12),H={isAuthenticated:!0,isLoggedIn:function(){return!(!this.isAuthenticated||!sessionStorage.getItem("authToken"))},authenticate:function(t){t&&(this.isAuthenticated=!0,sessionStorage.setItem("authToken",t))},setUserData:function(t){this.isAuthenticated&&t&&sessionStorage.setItem("userData",JSON.stringify(t))},signOut:function(){this.isAuthenticated=!1,sessionStorage.clear()}},G=function(t){var e=u(l)(),n=Object(E.f)();return Object(a.useEffect)((function(){if(t.location&&t.location.search){var e=t.location.search.split("=");H.authenticate(e[1]),f("/user").then((function(a){a.data&&Object.keys(a.data).length&&(H.setUserData(a.data),n.push("/todo"),t.loginSession(e[1]))})).catch((function(t){return console.log(t)}))}}),[]),Object(m.jsx)("div",{className:e.signInDiv,children:Object(m.jsx)("a",{href:"/api/v1/auth/linkedin",children:Object(m.jsxs)(Z.a,{children:[Object(m.jsx)("img",{alt:"linkedin logo",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAclBMVEUAdrL///8Ab68Ac7AAca+DsNHt9PlQlcIAbK0AeLP7/v7K3uwIfLUAaawAcK8Aa63E2Ohyp8wshLna6PFDjr72+vw0ibysyd/f6fLQ4e200OOKtNN6q85noci81OYggLeYvdiTu9dinMZOlMIAZKro7/VwwblmAAAD4UlEQVR4nO3cbXeaMBiHcZMgjSgBRYu2+Dy//1eczlVm5b7rtjyUnP/v1c6ZPeU6QQgxdjAAAAAAAAAAAAAAAAAAAAAAAAAAAACwJDFaF1oaFfpA3FB6MK3H1XL19j4rTOijsU/pYylulo1MQh+RZWY0FnfSlyL0MVml1+JBHVOibh4DhSjjSZTTrsBzYh76yCxRs+5AId4juaTqiioU2yjujEnHVebDRoc+OhvyJV0YxSCqORModhG8E+WOK6wiOE31iisUMvTx/T+ZsoWz/r8RzYItPERfuO7/M8YXZ+lL/8dQc7fDKG6IcsMFZhHcLUznk9OHVQSFgxFXOIxgTjPQJR2YhT44K7iJ6S6CKc2ZrqnANIZ34QV5S5z3/1Zxpbbd85ppHOfoRdKZOI3lHL1Qo4e1msUxnhG8ULq5fzPW0S3rD4xsbs/Cp90orgH8zejk2Ox3w8NER9n3izJGJtGdngAA8N2pWB5PHiVSazXZzraTkZKFNnFt0lGmUOt6lV6fWLLF4jSum1mug80lRqR/eqUqtvuuj5WzzTSRQUbSpBlBHO8PyAwF8cLyNpNV+ZH+NCurtzpAI7Ou/2lNPxlSLyw/npb1nP+0Tmxm/h+sLRYqSa5qtXaF72G0Vyhnp68DhahGni851gq79o51yuZ+l9JtFRbk/z7ym2ipUL8/Hygyr5+e2ymkNscRUp+DaKWwIDfHkT/Rs8IfT11F/3Twd0G1Ubj5mzfhVepvQc9G4ZLf0dHJ36evNgr/xcLbBt1QhaLxNYjBCitfl9Nghd4264Qr9LWPPFzhytNpGq5QRD+GvvZ2OihMqyrNnnidp/06dguzsnk1xVk+WddfzXTKHhbuE31b+z3/k90m721LksXCavJpUDT7XQchHlZkv3lh+biKlryyP/Hq5VJjrbDz9mbYZ38/28htFS66xyPnloj9zGpsFQ67L4zs145qLxdTS4XkdTGnv/0nNn0q3FMHa5gVjrGX24WlQvJRiP6Oqq9vjtkpPNFrEpKe2iy9PF3YKWSuGczX49IeFTKLLvKN/KlFjwqZ2QkzO828rLfZKWR+ATet6c8YcivYyYEu7M/98MQMhnqhC/sz8+ZubOpIFzpuu7JSOGZON25m6rjtykphyY0h84zouO3KSiH39yXiKGTPUmZi6rjtyk4hN4WeoNAxFLZQSEGhayhsoZCCQtdQ2EIhBYWuobCFQgoKXUNhC4UUFLqGwhYKKSh0DYUtFFJQ6BoKWyikoNA1FLZQSEGhayhsxV9oelo4UKTPrzQ5hd9z//xvAAAAAAAAAAAAAAAAAAAAAAAAAAAAgHs/ARGNSn50aHUhAAAAAElFTkSuQmCC"}),"Sign in with LinkedIn"]})})})},J=n(48),q=function(t){var e=Object(a.useState)(H.isLoggedIn()),n=Object(r.a)(e,2),c=n[0],i=n[1],o=Object(a.useState)(!1),s=Object(r.a)(o,2),u=s[0],l=s[1],d=function(t){i(!0),l(!0)},h=function(){H.signOut(),i(!1)};return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(J.a,{children:Object(m.jsx)(E.c,{children:c?Object(m.jsx)(E.a,{path:"/todo",exact:!0,render:function(t){return Object(m.jsx)(y,Object(k.a)(Object(k.a)({open:u,close:function(){return l(!1)}},t),{},{logoutSession:h}))}}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(E.a,{path:"/login",render:function(t){return Object(m.jsx)(G,Object(k.a)(Object(k.a)({},t),{},{loginSession:d}))}}),Object(m.jsx)(E.a,{path:"*",render:function(t){return Object(m.jsx)(G,Object(k.a)(Object(k.a)({},t),{},{loginSession:d}))}})]})})})})},V=n.p+"static/media/user.ab41d75f.jpg",M=n(194),Y=n(195),X=n(204),_=n(202),$=n(196),tt=n(94),et=n(205),nt=n(197),at=n(198),ct=function(t){var e=t.user,n=t.logoutSession,c=t.setOpenTask,i=u(l)(),o=Object(E.f)(),s=Object(a.useState)(null),d=Object(r.a)(s,2),h=d[0],b=d[1],j=Boolean(h);return Object(m.jsx)("div",{children:Object(m.jsx)(M.a,{className:i.headerBar,children:Object(m.jsxs)(Y.a,{children:[Object(m.jsxs)("div",{className:i.headerLeft,children:[Object(m.jsx)(X.a,{alt:"user profile",src:e&&e.avatar?e.avatar:V}),Object(m.jsx)("h4",{className:i.userName,children:e&&e.name?e.name:""})]}),Object(m.jsxs)("div",{className:i.headerRight,children:[Object(m.jsx)(_.a,{title:"Add Task",children:Object(m.jsx)($.a,{className:"add","aria-label":"add",onClick:function(){return c(!0)},children:Object(m.jsx)(nt.a,{})})}),Object(m.jsx)($.a,{className:"dot","aria-controls":"long-menu",onClick:function(t){b(t.currentTarget)},children:Object(m.jsx)(at.a,{})}),Object(m.jsx)(tt.a,{id:"long-menu",anchorEl:h,keepMounted:!0,open:j,onClose:function(){b(null)},PaperProps:{style:{maxHeight:216,width:"20ch"}},children:Object(m.jsx)(et.a,{onClick:function(){f("/logout").then((function(t){o.push("/login"),n()}))},children:"Logout"})})]})]})})})};n(148);var it=function(){return Object(m.jsx)(q,{})};o.a.render(Object(m.jsx)(it,{}),document.getElementById("root"))}},[[149,1,2]]]);
//# sourceMappingURL=main.9bc1e004.chunk.js.map